# =============================================================================
# Application Configuration
# =============================================================================
APP_NAME=Smart Interview Guideline
APP_VERSION=0.1.0
APP_ENV=development  # development, staging, production
DEBUG=false

# =============================================================================
# Database Configuration
# =============================================================================
# Full database connection URL (will be auto-converted to async format)
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/smart_interview

# Connection Pool Settings
DB_POOL_SIZE=5           # Number of connections to maintain in the pool
DB_MAX_OVERFLOW=10       # Maximum number of connections beyond pool_size
DB_POOL_TIMEOUT=30       # Timeout in seconds for getting a connection
DB_POOL_RECYCLE=3600     # Recycle connections after this many seconds
DB_POOL_PRE_PING=true    # Enable connection health checks
DB_ECHO=false            # Echo SQL queries (useful for debugging)

# Legacy PostgreSQL variables (for docker-compose compatibility)
POSTGRES_DB=smart_interview
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432

# =============================================================================
# Server Configuration
# =============================================================================
APP_HOST=0.0.0.0
APP_PORT=8000
WORKERS=4
LOG_LEVEL=info  # debug, info, warning, error, critical
RELOAD=false    # Enable auto-reload (development only)

# Legacy server variables (for docker-compose compatibility)
BIND_ADDRESS=0.0.0.0:8000
# Frontend (nginx): listens on 80. SSL is handled at domain (e.g. reverse proxy in front).
FRONTEND_PORT=80
# API URL used by frontend at build time. Production (same-origin): use /api when domain proxies to this.
VITE_API_BASE_URL=http://localhost:8000/api

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins (dev: 5173; production: your domain, e.g. https://sig.zen8labs.io)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:8080,http://localhost,https://sig.zen8labs.io
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# =============================================================================
# OpenAI Configuration (OpenAI-compatible API)
# =============================================================================
OPENAI_API_KEY=your-api-key-here
# Optional: base URL for OpenAI-compatible API (Azure, local LLM, etc.). Leave empty for api.openai.com
OPENAI_BASE_URL=
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# =============================================================================
# Authentication Configuration
# =============================================================================
JWT_SECRET_KEY=your-secret-key-change-in-production-please
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# Nested Configuration Example (using double underscore delimiter)
# =============================================================================
# You can also use nested environment variables like this:
# DATABASE__URL=postgresql://...
# DATABASE__POOL_SIZE=10
# SERVER__PORT=8080
# OPENAI__API_KEY=your-key
